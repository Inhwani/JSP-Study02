## JSP

JSP는 동적인 웹 페이지를 개발하기 위한 웹 프로그래밍 기술.

자바 언어를 사용하여 서버측에서 웹 페이지들을 생성해 웹 브라우저로 전송

## JSP의 장점
- 짧은 코드로 동적인 웹 페이지를 생성할 수 있음.
- 기본적인 예외는 자동으로 처리됨
- 많은 확장 라이브러리를 사용할 수 있음
- 스레드 기반으로 실행되어 시스템 자원을 절약해준다.

## 서버(Server)

웹에서 서비스를 제공하는 컴퓨터 시스템

## 웹 서버(Web Server)

사용자로부터 HTTP를 통해 요청을 받거나, 웹 컨테이너가 전달해준 결과물을 정상적인 페이지로 생성하여 사용자에게 응답.

HTML, CSS, 자바스크립트 등으로 구성.

## 웹 컨테이너

웹 서버가 전송해준 요청을 기초로 동적인 페이지를 생성하여 웹 서버로 돌려줌.

## WAS

웹 애플리케이션이 샐행될 수 있는 환경을 제공하는 소프트웨어, 컴퓨터에서 운영체제와 비슷한 역할

톰캣(Tomcat)이 대표적임

## HTTP

www라고 불리는 웹에서 웹 서버와 사용자 사이의 통신을 위해 사용하는 통신 프로토콜

사용자가 요청하면 웹 서버가 응답하는 단순한 구조의 프로토콜

## 프로토콜

네트워크를 통해 컴퓨터들이 정보를 주고받는 절차 혹은 통신 규약

## 포트

컴퓨터 사이에서 데이터를 주고받을 수 잇는 통로

## 1.1 동적 웹 페이지 JSP

JSP란 동적 웹 페이지를 쉽고 빠르게 제작할 수 있도록 자바가 제시한 해법.

## 1.1.1 정적 웹 페이지와 동적 웹 페이지

정적 웹 페이지
- 웹 서버에 저장되어 있는 파일을 그대로 웹 브라우저에 전송해 출력하는 기본적인 페이지
- 어떤 형태로 요청 하더라도 같은 페이지는 항상 동일한 모습을 보여줌

동적 웹 페이지
- 동일한 페이지라 할지라도 그때그때 내용이 달라질 수 있는 웹 페이지
- 계정, 시간, 지역, 언어, 기타 입력값에 따라 다른 결과를 받는다.

## 고대의 자바 기술 자바 애플릿

자바 애플릿은 웹에서 실행되도록 설계된 자바 애플리케이션을 통째로 웹브라우저로 전송

자바 가상 머신을 탑재한 웹 브라우저가 이를 실행하는 방식으로 구동

## 서블릿

서버측에서 진행되는 서블릿.

서블릿은 클라이언트의 요청을 받으면 서버에서 처리한 후, 응답으로는 결과값만 보내주는 구조.

동적 웹 페이지 방식에서 '전처리' 부분을 서블릿이 담당하는 구조

서블릿은 잡바 파일을 컴파일한 클래스 파일 형태이며, 이를 실행하고 관리해주는 런타임을 서블릿 컨테이너라고 함.

대표적인 서블릿 컨테이너로는 아파치 톰캣이 있음

## 1.1.4 JSP, 자바 웹 기술

서블릿에도 단점이 있음.

서블릿은 기본적으로 자바 코드인데, 너무 많은 코드가 필요 했음. 그래서 기본 HTML로 하고

필요한 부분만 자바 코드를 삽입하는 형태인 JSP가 탄생.

구동 박식은 JSP 파일을 서블릿으로 변환하여 서블릿을 실행

한 번 서블릿으로 컴파일된 JSP파일은 캐시됨.

따라서 성능 저하 없이 개발 생산성과 유지보수 편의성을 모두 챙김.

## 1.2 JSP 파일 기본 구조

JSP의 주된 목적은 웹 브라우저에 띄울 HTML 파일을 생성하는 것.

지시어와 스크립트로 구성된다.

## 스크립트 요소
- 선언부
- 표현식
- 스크립트릿

## 지시어

해당 JSP 페이지의 처리 방법을 JSP 엔진에 지시해주는 역할.

## 1.3 지시어

지시어는 JSP 페이지를 자바(서블릿) 코드로 변환하는 데 필요한 정보를 JSP 엔진에 알려줌

주로 스크립트 언어나 인코딩 방식 등을 설정함.

<%@ 지시어 종류 속성1 = "값1" 속성2="값2"..%>

- page 지시어 : JSP 페이지에 대한 정보를 설정함
- include 지시어: 외부 파일을 현재 JSP 페이지에 포함시킴
- taglib 지시어 : 표현 언어에서 사용할 자바 클래스나 JSTL을 선언함

## 1.3.1 Page 지시어

page 지시어는 JSP 페이지에 대한 정보를 설정 ( 속성, 내용, 기본값)

- info : 페이지에 대한 설명 입력 : 없음
- language : 스크립팅 언어를 지정 : java
- contentType : 페이지에서 생성할 MIME 타입을 지정 : 없음
- pageEncoding : charset과 같이 인코딩을 지정 : ISO-8859-1
- import : 페이지에서 사용할 자바 패키지와 클래스 지정 : 없음
- session : 세션 사용 여부를 지정합니다 : true
- buffer : 출력 버퍼의 크기를 지정 : 8KN
- autoFlush : 출력 버퍼가 모두 채워졌을 때 자동으로 비울지 결정 : true
- trimDirective : 지시어 선언으로 인한 공백 제거 여부 : false

## Buffer

버퍼 개념은 네트워크로 영상 데이터를 전송할 때, 작은 단위로 여러 번 전송하는 것보다

큰 단위로 묶어서 한 번에 보내는 것이 효율적

이때 버퍼라는 임시 저장소를 두어 데이터들이 충분히 쌓을 때 가지 기다렸다가 보내는 것

JSP에서는 버퍼를 사용함으로써 Forward(페이지 전달) 와 에러 페이지 처리를 할 수 있음

JSP가 생성한 결과는 일단 버퍼에 저장.

실행 도중 에러가 발생하면 버퍼에 저장된 내용을 삭제하고 에러 화면을 표시.

## include 지시어

많은 웹 사이트에서 상단 메뉴나 하단 정보가 여러 페이지에서 반복되어 사용 됨.

이럴 때 반복되는 부분을 별도의 파일에 작성해두고 필요한 페이지에서 include 지시어로 포함시킬 수 있음.

## taglib 지시어

taglib은 자바 클래스의 메서드를 호출하거나 JSTL을 사용하기 위한 지시어

## 1.4.3 표현식 (Expression)
